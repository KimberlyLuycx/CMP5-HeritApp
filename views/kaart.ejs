<% include header %>


      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
      integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
      crossorigin=""/>


      <header>

        <h1>Kaart</h1>

      </header>

  <section>
    <p>Hier komt de kaart met alle erfgoedlocaties.</p>
  </section>

  <div id="mapid"></div>


  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
crossorigin=""></script>
 <script src='/js/leafletscript.js'></script>

 <script type="text/javascript">
 <% for(var i=0; i < information.length; i++) { %>

   var iconSoort;
   var categorie = '<%-information[i].attributes.categorie%>';

   if (categorie === 'Erfgoedvereniging') {
     iconSoort = erfgoedvereniging;
   } else if (categorie === 'Museum') {
     iconSoort = museum;
   } else if (categorie === 'Levensbeschouwelijk.erfgoed') {
     iconSoort = levensbeschouwelijk;
   } else if (categorie === 'Documentatiecentrum') {
     iconSoort = centrum;
   } else if (categorie === 'Erfgoedbibliotheek') {
     iconSoort = bibliotheek;
   } else if (categorie === 'Archief') {
     iconSoort = archief;
   } else if (categorie === 'Museumdepot') {
     iconSoort = depot;
   };


 L.marker([<%-information[i].geometry.y %>, <%-information[i].geometry.x %>], {icon: iconSoort}).addTo(mymap)
     .bindPopup(`<b class='bold'><%- information[i].attributes.naam%></b><br> <%- information[i].attributes.categorie%><br><a href='/overzicht/<%= i%>'>Meer informatie</a>`).on('click', function(e){mymap.setView([<%-information[i].geometry.y %>, <%-information[i].geometry.x %>], 18)});
 <% } %>
 </script>

<% include footer %>
